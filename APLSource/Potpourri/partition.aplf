 partition←{
     shape←1⊃,⍺
     ⍺<⍥(≢⍴)⍵: 0⍴⊂shape⍴0
     tmp←,({⊂⍺ ⍵}⌺(⌽1+(≢⍴⍵)↑¯1+⌽shape))⍵
     res←(⊂shape)⍴¨(∧/¨0=1⊃¨tmp)/2⊃¨tmp
     res
 }
